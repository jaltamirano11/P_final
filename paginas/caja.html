<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>CarWash - Caja</title>

  <link rel="stylesheet" href="../estilos/styleCaja.css">
</head>
<body>

<header>
  <h1>ULTRAWASH</h1>
  <div style="display:flex; align-items:center; gap: 1rem;">
    <!-- Nuevo botón Historial -->
    <a href="historial.html" class="btn" style="text-decoration:none; font-size:0.8rem; padding:0.5rem 1rem;">
      Ver Historial

    </a>
    <div id="fechaHora"></div>
  </div>
</header>

<main class="contenedor">

  <!-- PANEL BOTONES -->
  <section class="panel-botones">
    <div class="btn-rapido" data-prod="Básico" data-precio="3000">Básico ₡3.000</div>
    <div class="btn-rapido" data-prod="Estándar" data-precio="4000">Estándar ₡4.000</div>
    <div class="btn-rapido" data-prod="Premium" data-precio="5000">Premium ₡5.000</div>
    <div class="btn-rapido" data-prod="SUV" data-precio="6000">SUV ₡6.000</div>
  </section>

  <!-- PANEL TICKET -->
  <section class="panel-ticket">
    <h2>TICKET</h2>

    <div id="lineasTicket"></div>

    <div class="total">
      Total: ₡<span id="totalTicket">0.00</span>
    </div>

    <div class="acciones">
      <button id="btnCobrar" class="btn btn-cobrar">Cobrar</button>
      <button id="btnCancelar" class="btn btn-cancelar">Cancelar</button>
    </div>
  </section>

  

</main>

<!-- MODAL COBRO -->
<div id="modalCobro" class="modal">
  <div class="modal-content">

    <h2>Datos del Servicio</h2>

    <label>Placa</label>
    <input id="placa" type="text">

    <label>Modelo</label>
    <input id="modelo" type="text">

    <label>Cliente</label>
    <input id="cliente" type="text">

    <hr>

    <p>Subtotal: <strong id="subtotal">₡0.00</strong></p>
    <p>IVA (13%): <strong id="iva">₡0.00</strong></p>
    <p>Total: <strong id="total">₡0.00</strong></p>

    <label>Paga con</label>
    <input id="pagaCon" type="number" inputmode="numeric" placeholder="Ingrese monto">
    <p id="msgPago" class="msg-error" style="display:none;"></p>

    <p>Vuelto: <strong id="vuelto">₡0.00</strong></p>

    <div class="acciones">
      <button id="confirmarPago" class="btn btn-cobrar">Confirmar</button>
      <button id="cerrarModal" class="btn btn-cancelar">Cancelar</button>
    </div>

  </div>
</div>

<footer>
  <small>Los datos se almacenan localmente en IndexedDB. No se comparten.</small>
</footer>

<script src="funciones/db/db.js"></script>
<script src="funciones/caja.js"></script>

</body>
</html>
